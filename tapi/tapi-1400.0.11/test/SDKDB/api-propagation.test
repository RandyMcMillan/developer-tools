; RUN: %tapi-mrm -o %t  %S/Inputs/api-propagation.partial.sdkdb
; RUN: cat %t | FileCheck %s

; CHECK:      {
; CHECK-NEXT:   "x86_64-apple-macosx": [
; CHECK-NEXT:     {
; CHECK-NEXT:       "binaryInfo": {
; CHECK-NEXT:         "compatibilityVersion": "1",
; CHECK-NEXT:         "currentVersion": "1",
; CHECK-NEXT:         "installName": "/System/Library/Frameworks/Basic.framework/Basic",
; CHECK-NEXT:         "twoLevelNamespace": true,
; CHECK-NEXT:         "type": "dylib"
; CHECK-NEXT:       },
; CHECK-NEXT:       "categories": [
; CHECK-NEXT:         {
; CHECK-NEXT:           "access": "public",
; CHECK-NEXT:           "interface": "Basic",
; CHECK-NEXT:           "name": "Test"
; CHECK-NEXT:         }
; CHECK-NEXT:       ],
; CHECK-NEXT:       "globals": [
; CHECK-NEXT:         {
; CHECK-NEXT:           "access": "public",
; CHECK-NEXT:           "kind": "variable",
; CHECK-NEXT:           "linkage": "exported",
; CHECK-NEXT:           "name": "_publicGlobalVariable"
; CHECK-NEXT:         }
; CHECK-NEXT:       ],
; CHECK-NEXT:       "interfaces": [
; CHECK-NEXT:         {
; CHECK-NEXT:           "access": "public",
; CHECK-NEXT:           "categories": [
; CHECK-NEXT:             "Test"
; CHECK-NEXT:           ],
; CHECK-NEXT:           "linkage": "exported",
; CHECK-NEXT:           "name": "Basic",
; CHECK-NEXT:           "super": "NSObject"
; CHECK-NEXT:         }
; CHECK-NEXT:       ],
; CHECK-NEXT:       "protocols": [
; CHECK-NEXT:         {
; CHECK-NEXT:           "access": "public",
; CHECK-NEXT:           "name": "Test"
; CHECK-NEXT:         }
; CHECK-NEXT:       ]
; CHECK-NEXT:     },
; CHECK-NEXT:     {
; CHECK-NEXT:       "binaryInfo": {
; CHECK-NEXT:         "compatibilityVersion": "1",
; CHECK-NEXT:         "currentVersion": "1",
; CHECK-NEXT:         "installName": "/System/Library/PrivateFrameworks/Test.framework/Test",
; CHECK-NEXT:         "twoLevelNamespace": true,
; CHECK-NEXT:         "type": "dylib"
; CHECK-NEXT:       },
; CHECK-NEXT:       "categories": [
; CHECK-NEXT:         {
; CHECK-NEXT:           "interface": "Basic",
; CHECK-NEXT:           "name": "Test"
; CHECK-NEXT:         }
; CHECK-NEXT:       ],
; CHECK-NEXT:       "globals": [
; CHECK-NEXT:         {
; CHECK-NEXT:           "access": "public",
; CHECK-NEXT:           "kind": "variable",
; CHECK-NEXT:           "linkage": "exported",
; CHECK-NEXT:           "name": "_publicGlobalVariable"
; CHECK-NEXT:         }
; CHECK-NEXT:       ],
; CHECK-NEXT:       "interfaces": [
; CHECK-NEXT:         {
; CHECK-NEXT:           "categories": [
; CHECK-NEXT:             "Test"
; CHECK-NEXT:           ],
; CHECK-NEXT:           "linkage": "exported",
; CHECK-NEXT:           "name": "Basic",
; CHECK-NEXT:           "super": "NSObject"
; CHECK-NEXT:         }
; CHECK-NEXT:       ],
; CHECK-NEXT:       "protocols": [
; CHECK-NEXT:         {
; CHECK-NEXT:           "name": "Test"
; CHECK-NEXT:         }
; CHECK-NEXT:       ]
; CHECK-NEXT:     }
; CHECK-NEXT:   ]
; CHECK-NEXT: }

